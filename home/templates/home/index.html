{% extends "base.html" %}

{% load static %}

{% block page_header %}
  <div class="container header-container">
    <div class="row">
      <div class="col"></div>
    </div>
  </div>
{% endblock %}

{% block content %}
  <div class="container mt-1">
    <!-- Full-Width Headline, Left Aligned -->
    <div class="row">
      <div class="col-12 mt-3">
        <h1 class="main-page-content display-4 logo-font text-light text-left">
          <strong>Delivering Bristol's Best Ramen to your Door!</strong>
        </h1>
      </div>
    </div>

    <!-- Two Column Layout -->
    <div class="row mt-4">
      <!-- Left Column: Description and News Section -->
      <div class="col-12 col-md-6">
        <h4 class="text-white">
          Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
          Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.
          Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.
        </h4>
        <!-- News Section -->
        <div class="news-section mt-4">
          <h4 class="text-white"><strong>Ramen</strong> Nakama News</h4>
          {% if news %}
            {% for item in news|slice:":1" %}
              <div class="card bg-dark text-black mb-3">
                {% if item.image %}
                  <img src="{{ item.image.url }}" alt="{{ item.title }}" class="card-img-top img-fluid">
                {% endif %}
                <div class="card-body">
                  <h5 class="card-title">{{ item.title }}</h5>
                  <p class="card-text">{{ item.content|truncatewords:30 }}</p>
                  <a href="{% url 'news-archive' %}" class="btn btn-outline-black">Read More</a>
                </div>
              </div>
            {% endfor %}
          {% else %}
            <p class="text-white">No news available at this time.</p>
          {% endif %}
        </div>
        
      </div>
      
      <!-- Right Column: Order Status and Shop Now Container -->
      <div class="col-12 col-md-6">
        <div class="order-status-container">
          <div class="row align-items-center">
            <!-- Order status text (approx. 66% width) -->
            <div class="col-8">
              {% if order_window %}
                <div class="order-status-message">
                  {{ order_window.ordering_message }}
                </div>
              {% endif %}
            </div>
            <!-- Circular Shop Now button (approx. 34% width) -->
            <div class="col-4 text-right">
              <a href="{% url 'products' %}" class="shop-now-circle text-uppercase text-center">
                <strong>Slurp Now!</strong>
              </a>
            </div>
          </div>
        </div>
      </div>
      
    </div>
  </div>
{% endblock %}
